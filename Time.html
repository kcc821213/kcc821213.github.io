<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>時間差計算器</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #time-display { font-size: 24px; margin-bottom: 20px; }
  </style>
</head>
<body>
  <div id="time-display">當前時間：--:--:--</div>

  <label for="time-select">選擇時間：</label>
  <select id="time-select">
    <option value="14:00">14:00</option>
    <option value="00:00">00:00</option>
    <option value="02:00">02:00</option>
  </select>

  <button onclick="calculateDifference()">計算分鐘差</button>

  <div id="result" style="margin-top: 20px;"></div>

  <script>
    function updateCurrentTime() {
      const now = new Date();
      const timeString = now.toLocaleTimeString('zh-TW', { hour12: false });
      document.getElementById('time-display').textContent = `當前時間：${timeString}`;
    }

    function calculateDifference() {
      const now = new Date();
      const selected = document.getElementById('time-select').value;
      const [targetHour, targetMinute] = selected.split(':').map(Number);

      const target = new Date(now);
      target.setHours(targetHour, targetMinute, 0, 0);

      // 若目標時間已過，則視為隔天
      if (target < now) {
        target.setDate(target.getDate() + 1);
      }

      const diffMs = target - now;
      const diffMinutes = Math.round(diffMs / 60000);

      document.getElementById('result').textContent = `距離 ${selected} 還有 ${diffMinutes} 分鐘`;
    }

    // 每秒更新時間
    setInterval(updateCurrentTime, 1000);
    updateCurrentTime();
  </script>
</body>
</html>